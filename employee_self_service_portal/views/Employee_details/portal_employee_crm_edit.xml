<odoo>
  <template id="portal_employee_crm_edit" name="Edit CRM Lead">
    <t t-call="portal.portal_layout">
      <div class="o_portal container my-4">
        <h2>Edit Lead / Opportunity</h2>
        <form t-att-action="'/my/employee/crm/edit/' + str(lead.id)" method="post" class="card p-3">
          <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
          <div class="mb-2">
            <label>Name</label>
            <input type="text" name="name" class="form-control" t-att-value="lead.name" required="required"/>
          </div>
          <div class="mb-2">
            <label>Stage</label>
            <select name="stage_id" class="form-control">
              <t t-foreach="stages" t-as="stage">
                <option t-att-value="stage.id" t-att-selected="lead.stage_id.id == stage.id"><t t-esc="stage.name"/></option>
              </t>
            </select>
          </div>
          <div class="mb-2">
            <label>Email</label>
            <input type="email" name="email_from" class="form-control" t-att-value="lead.email_from"/>
          </div>
          <div class="mb-2">
            <label>Phone</label>
            <input type="text" name="phone" class="form-control" t-att-value="lead.phone"/>
          </div>
          <div class="mb-2">
            <label>Expected Revenue</label>
            <input type="number" name="expected_revenue" class="form-control" step="0.01" t-att-value="lead.expected_revenue"/>
          </div>
          <div class="mb-2">
            <label>Description</label>
            <textarea name="description" class="form-control"><t t-esc="lead.description or ''"/></textarea>
          </div>
          <button type="submit" class="btn btn-primary mt-3">Save</button>
          <a href="/my/employee/crm" class="btn btn-secondary mt-3">Cancel</a>
        </form>
      </div>
    </t>
  </template>
</odoo>
